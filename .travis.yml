sudo: required
dist: trusty
language: node_js
node_js:
- stable
before_install:
- export CHROME_BIN=/usr/bin/google-chrome
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
- sudo apt-get update
- sudo apt-get install -y libappindicator1 fonts-liberation
- wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
- sudo dpkg -i google-chrome*.deb
branches:
  only:
  - master
before_script:
- npm install -g @angular/cli
- npm i istanbul jasmine coveralls -D
script:
- ng build --prod
- ng test --watch=false --code-coverage
- npm run coveralls

deploy:
  provider: firebase
  token:
    secure: JxAHqvyGIoJYht29se0vev7dgbYrDVm+eewRk8W6X8mMRlf1k8iktGXWoZlFTf4596P6mCwbPfWfH17wzRef4a9cstJcS1ICHrvd1J8UvlqUJx9+XqLbxZfTQO/FY8mYPnzMeWL00gD5CluzWbpPtqM2aDOnu0rjzD+i+JI/T8112yMY5GcMaPyjAwnIxsKIclnADg/uac8JqWu4ttIt+QgYg0/W7SkVenvbH7tCdh+jHqpeSV7Nf/kKj5J02S+uVq+oDgdF6EFp+VKmQlpoHIVgnJrmm2tc2OOcxY2+ywGFRIPvtgtT6TukNobAVcq4KG8bY96Goh7uIT8Pj8PmCkv1f9iOTFqBJlPph5krvHTyWfFM878X26yHNgEb9Mqnfn1mRlDTIvY/GQEfbkW9oqfBQE2elDLjeRDHpum4QnFrpq26NTPofrI1t1+IuY0wT5YqVZp0iI7XacXKpNbjNl0lxUyotLnlNzpb2ON891uIcXWXASs9RKUeArH79DzKSlBzzuinK8DS9DNs/7r30E3jnYpwMRfDO64qy3pjFu1L+Tpnf/51V+8FP+d3FaTV1MFKD5zUG9lWngO3DMEIkQugVcDbFVxxfawQFm85+xA+oJZJcuSKNh1YzuQxmumOz+LMbfpJGXzgUnO8x1fg58ER0DVompCU7AwhaU04ZAE=
